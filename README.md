# Portfolio

## 프로젝트 설명 및 목적
> &nbsp;&nbsp;&nbsp;&nbsp;무언가 다른, 독특한 아이디어를 내며 시작할 수도 있었지만 기본적인 개념을 다시 공부한다는, 재미를 느낀다는 기분으로 시작한 토이 프로젝트 입니다. 작업을 하다가도 아이디어가 떠오르면 '어? 그것도 한번 해볼까? 저렇게도 한번 해볼까?' 이러한 흐름으로 진행해보고 싶었습니다. 그래도 기본적인 틀을 설명하자면 '관리자 페이지' 와 '사용자 페이지' 로 나누어서 작업할 예정이고, 지금 현재로서는 관리자 페이지의 Left Menu 하나하나가 프로젝트 '한 개' 라고 생각하시면 됩니다. 이후에는 메뉴1(프로젝트1), 메뉴2(프로젝트2)들이 합쳐질수도 있겠지만 시작은 '게시판&게시물' 이란 주제로 시작했으며, 게시판이 생성되면 게시물 메뉴에서 그 게시판에 해당하는 글을 쓰고 이러한 과정에서 필요한 기본적인 CRUD, 답글, 댓글, 로그인(회원가입) 등 기본적인 기능부터 작업중에 있습니다. 디자인은 기능에 좀 더 집중하고자 부트스트랩을 활용하였습니다.
>
>(추후 계속 업데이트 예정) 

## 개발 환경

* OS  : Windows 11
* IDE : Spring Tool Suite 3
* JDK : 11
* WAS : Apache Tomcat 9.0
* DB : MySQL 8.0.34
* Build Tool : Maven

***

## 목차 (Index)

### 데이터베이스 모델링

### 1. 로그인
- 회원가입 및 로그인 처리
- 세션체크
- 개선방향
### 2. 게시판
- 등록
- 수정
- 삭제 (복구, 영구삭제)
- 검색
- 개선방향
### 3. 게시물
- 등록
- 수정
- 삭제 (복구, 영구삭제)
- 검색 및 페이징 처리
- 개선방향
### 4. 게시물 (답글)
- 답글처리
- 개선방향
  
***

## 데이터베이스 모델링
![DBM](https://github.com/user-attachments/assets/60fbff6e-ef36-4638-bba1-474a47914fa8)

PRIMARY: USER_SEQ, BBS_SEQ, BOARD_SEQ, ATTACH_SEQ, CMNT_SEQ

UNIQUE: USER_ID

***

# 1. 로그인
https://github.com/user-attachments/assets/4474b179-f6f8-4885-9c22-7dc2417e961e
## * 회원가입 및 로그인

&nbsp;&nbsp;&nbsp;&nbsp;먼저 관리자 계정을 생성하고 로그인 하는 부분입니다. 영상에서 보는바와 같이 관리자 계정은 일반 계정과 다르게 "관리자 승인번호" 라는 것이 필요합니다. 지금은 제가 임의의 번호 네 자리를 Controller 부분에 설정해두었습니다. 그 번호가 맞다면 오른쪽 계정생성 입력란이 활성화 됩니다. 내용을 작성한 후 JOIN 버튼을 누르면 계정생성이 완료됩니다. 어느 항목도 빈 값을 입력할 수 없도록 설정해두었고, 영상에서는 비밀번호 일치여부만 나타내었습니다.

![image](https://github.com/user-attachments/assets/7a45e151-92f4-4f55-9bce-f36e749f00de)

사진과 같이 DB에는 비밀번호가 암호화 되어 들어가는 것을 확인할 수 있습니다.

&nbsp;&nbsp;&nbsp;&nbsp;이후 생성된 계정으로 로그인을 합니다. 테스트를 위하여 없는 아이디와 비밀번호를 입력해보았습니다. 아이디 혹은 비밀번호가 일치하지 않을때 error 페이지로 이동하도록 작업했으며, 이후 로그인 성공시 관리자 메인화면으로 넘어가게 됩니다.
"Remember ID" 를 체크함으로써 로그아웃 후에도 ID가 저장되어있음을 확인할 수 있습니다.


## * 세션체크
https://github.com/user-attachments/assets/619ea5f4-3065-4919-84b0-88a7587a07fc

&nbsp;&nbsp;&nbsp;&nbsp;로그인 되어있지 않은 상태에서 주소창에 "관리자 게시판 URL 주소" 로 이동했지만 다시 로그인 화면으로 돌아오는 상황입니다. 회원가입을 제외한 모든 페이지는 진입시 세션정보가 없을때 로그인 페이지로 redirect 하도록 했습니다. (Interceptor)

## * 개선방향
- 비밀번호 변경, 비밀번호 찾기 기능 추가
- 아이디 중복확인 기능 추가
- 보안을 위해 계정생성시 비밀번호 길이, 특수문자 등 사용자에게 강력한 암호 설정을 요구하도록 변경
- 관리자 계정 생성시 지금처럼 픽스된 승인번호가 아닌 다른 방법으로 승인하도록 변경예정
  
***

# 2. 게시판
## * 등록
https://github.com/user-attachments/assets/9b0b639e-88f3-49ff-a70e-5295a7e54902

&nbsp;&nbsp;&nbsp;&nbsp;게시판 페이지는 등록, 수정, 삭제를 모두 한 페이지에서 처리할 수 있도록 작업 했습니다. 그리고 모든 관리자 페이지의 상세화면은 상세화면이 곧 수정화면이 되도록 작업했습니다. (사용자 화면은 상세화면을 따로 만들 예정)

&nbsp;&nbsp;&nbsp;&nbsp;우측 게시판 등록박스의 신규 등록버튼을 클릭하면 아래 입력란들이 활성화 됩니다. 게시판명, 게시판에 대한 설명을 간단하게 작성하고 아래 게시판 옵션을 선택합니다. 다시 말해 이 게시판에 대한 답글, 댓글, 첨부파일, 비밀 글에 대한 기능들을 활성화할 것인지에 대한 옵션기능입니다. 이후 등록버튼을 클릭하여 새로운 게시판 생성을 완료합니다. 등록된 게시판은 좌측 게시판 목록에서 확인할 수 있습니다.

## * 수정
https://github.com/user-attachments/assets/f9105f0c-1e43-4a77-ab75-811eded68444

&nbsp;&nbsp;&nbsp;&nbsp;좌측의 목록박스에서 수정하고자 하는 게시판을 클릭하면 우측의 등록박스가 수정박스로 바뀌면서 등록되었던 게시판 데이터를 불러옵니다 (ajax). 이후 수정완료를 클릭하여 수정을 완료합니다.

&nbsp;&nbsp;&nbsp;&nbsp;여기서 게시판 옵션에 대한 설명을 좀 더 하자면 예를 들어, 활성화 되어 있는 답글 기능을 비활성화 시키면 더 이상 그 게시판은 답글을 달수 없는 게시판이 됩니다. 대신 기존에 이미 달려있는 답글들은 그대로 노출이 되도록 작업했습니다.

## * 삭제 (복구, 영구삭제)
https://github.com/user-attachments/assets/2666192f-d18e-4978-8a58-315f6fab2e71

&nbsp;&nbsp;&nbsp;&nbsp;게시판 삭제방법은 좌측 목록박스에서 삭제하고자 하는 게시판을 선택합니다. 이후 우측의 수정박스 아래의 삭제버튼을 클릭하여 게시판 삭제를 완료합니다. 이후 삭제된 게시판은 휴지통에서 확인할 수 있습니다. 상태가 사용중, 게시중 등 삭제된 상태만 아니라면 사용자 화면에 노출될 예정입니다. 즉, 휴지통에 있는 데이터들은 관리자만 볼 수 있습니다. (앞으로 만들어질 모든 메뉴들 동일 적용)

- 복구

혹시나 실수로 삭제한 것을 대비해 복구 기능도 만들어 놓았습니다. 휴지통에서 복구버튼을 클릭하면 다시 게시판 목록에서 확인할 수 있습니다.

- 영구삭제

휴지통에서 영구삭제를 해야만 완전히 삭제가 됩니다. 특히, 영구삭제는 경고문구를 한번 띄워서 관리자에게 주의하도록 작업했습니다.

> 삭제처리는 실제로 delete문이 아닌 update문을 통해 상태값만 바꿔주도록 작업했습니다. 위쪽의 데이터베이스 모델링을 보면 테이블마다 STAT 컬럼이 있습니다. 삭제, 복구, 영구삭제 버튼의 동작은 이 STAT 필드만 수정합니다. 즉, 다시말해 영구 삭제를 하더라도 관리자 눈에서만 보이지 않을 뿐이지 DB에는 그대로 남아있다는 겁니다. 비록 토이 프로젝트라 할지라도 실전이라 생각하고 데이터 베이스 손실을 미연에 방지하고자 하는 마인드로 작업했습니다. 실제로 업무를 볼때 DB에 바로 붙어서 작업을 했던 경험이 있어서 데이터 보존은 정말 중요하다고 생각합니다.

## * 검색
https://github.com/user-attachments/assets/3c68976c-fbbe-490c-9501-cdf80bac3d91

&nbsp;&nbsp;&nbsp;&nbsp;목록박스 아래의 검색창에 게시판명을 입력하여 검색할 수 있습니다. 삭제된 게시판은 검색되지 않는 것을 영상에서 볼 수 있으며 페이징 처리도 완료하였습니다.
>페이징 처리는 게시물 파트에서 영상참조.


## * 개선방향
- 게시판 검색옵션 확장 (ex. 날짜 범위 검색)
- 게시판 기능옵션 확장 (ex. 첨부파일 갯수 및 용량제한)
- 게시판 임시저장 기능

***

# 3. 게시물
https://github.com/user-attachments/assets/e9e6f42d-885a-4de7-9a4b-443a91918e83
>설명에 앞서 게시판을 선택할때, 삭제된 게시판은 보이지 않도록 작업했습니다. (사용자 화면도 동일 적용)

## * 등록
https://github.com/user-attachments/assets/d68a4eef-5f7c-4c8d-9641-27cd9a3d24b2

&nbsp;&nbsp;&nbsp;&nbsp;게시물 등록 방법입니다. 우측 미리보기 박스 상단의 신규등록 버튼을 클릭하여 등록 페이지로 이동합니다. 게시판 선택후 제목, 내용을 작성하고 등록완료 버튼을 게시물 작성을 완료합니다. 이후 게시물 목록 페이지로 다시 이동합니다.
>Parsley Validator 를 이용하여 게시판, 제목, 내용은 필수로 입력하게끔 하였습니다.

## * 수정
https://github.com/user-attachments/assets/f3c5b7b1-db9b-4746-abd7-4e880f218964

&nbsp;&nbsp;&nbsp;&nbsp;목록에서 수정하고자 하는 게시물을 선택하면, 우측박스에서 게시물에 대한 정보를 간단하게 확인할 수 있으며 상세페이지 이동 버튼을 눌러 수정화면으로 이동합니다. 이후엔 등록방식과 동일합니다. 수정후 수정완료 버튼을 눌러 수정을 마무리합니다.

## * 삭제(복구, 영구삭제)
https://github.com/user-attachments/assets/dc27df54-f238-4480-840f-79923b566cff

&nbsp;&nbsp;&nbsp;&nbsp;게시물 삭제방법은 게시판 삭제방법과 완전 동일합니다. 좌측 목록박스에서 삭제하고자 하는 게시물을 선택합니다. 이후 우측의 미리보기 박스 아래의 삭제버튼을 클릭하여 게시물 삭제를 완료합니다. 이후 삭제된 게시물은 휴지통에서 확인할 수 있습니다. 
>복구, 영구삭제의 원리 또한 게시판과 동일합니다.

## * 검색 및 페이징 처리
https://github.com/user-attachments/assets/7fcfa570-c0ae-4bca-b283-c881a5f757d9

&nbsp;&nbsp;&nbsp;&nbsp;페이징 객체를 따로 만들어 구현했습니다. BBsVO와 BoardVO는 페이징 처리를 위해 DefaultVO를 상속받습니다. (굳이 페이징이 아니더라도 공통된 필드들이 추가되면 DefaultVO에 추가할 예정)
> 첫 페이지, 끝 페이지 바로이동하는 버튼 추가예정입니다.

## * 개선방향
- 게시물 등록, 수정시 첨부파일기능 추가(Drag&Drop)
- 게시물을 체크해서 체크한것만 한번에 삭제되도록 변경예정 (게시판도 똑같이 적용)
- 목록에서 보이는 데이터양을 자유자재로 변경 (ex. 5개씩, 10개씩, 50개씩 보이기)
- 게시판과 같이 게시물 작성일을 날짜(범위)로 검색가능하도록 수정
- 게시물 데이터들을 날짜별, 게시판별로 Excel로 내려받기가 가능하게끔 기능추가
- 공지사항의 경우 사용자 화면에서 제일 상단에 노출되도록 작업예정

***

# 4. 게시물(답글)
## * 답글처리
>게시물 답글은 설명의 흐름을 위해 영상 하나에 모든 과정을 담았습니다. 초반에 보다시피 공지사항(게시판)은 일반적으로 사용자에게 공지를 하여 알리는 글이기에 답글 옵션을 비활성화 해놓았습니다. 게시물 상세 페이지에서 답글쓰기 버튼이 없는 것을 확인할 수 있습니다.

https://github.com/user-attachments/assets/8fbfa87c-1647-4c2b-a023-288e28fafce9

&nbsp;&nbsp;&nbsp;&nbsp;게시물 상세 페이지에서 답글쓰기 버튼을 눌러 답글 등록 페이지로 이동합니다. 제목, 내용을 작성한 후 답글 등록을 완료합니다. (수정방식은 기존의 게시물 수정방식과 동일합니다) 이후 목록에서 보면 들여쓰기가 된 답글을 확인할 수 있습니다.

## * 개선방향
- 상세페이지로 이동하지 않고 목록 페이지에서 바로 답글 등록페이지로 이동하게끔 버튼추가

***

#### 중간점검 및 생각
>현재까지 각 파트별로 개선방향에 적힌 내용대로 작업할 예정입니다. (사용자 페이지도 만들어서 같이 작업예정)



